# Visual Guide - Any-Horizon IoT Forecaster

**Diagrams, Charts, and Visual Explanations**

---

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        WEB BROWSER                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Next.js Frontend (localhost:3000)                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Upload    â”‚  â”‚   Profile    â”‚  â”‚   Forecast     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   Page     â”‚â”€â–¶â”‚   Display    â”‚â”€â–¶â”‚     Chart      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP POST
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Vercel Serverless Functions                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   /api/profile       â”‚        â”‚   /api/forecast          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Parse CSV      â”‚  â”‚        â”‚  â”‚ Resample Data      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Detect Freq    â”‚  â”‚        â”‚  â”‚ Handle Missing     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Calc Stats     â”‚  â”‚        â”‚  â”‚ Remove Outliers    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚        â”‚  â”‚ Build Prompt       â”‚  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚ Call Lag-Llama â”€â”€â”€â”€â”¼â”€â”€â”¼â”€â”€â”
â”‚                                  â”‚  â”‚ Validate Response  â”‚  â”‚  â”‚
â”‚                                  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                  â”‚
                                   HTTP POST                      â”‚
                                   (JSON)                         â”‚
                                                                  â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Lag-Llama Server (localhost:8000)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚               Flask API Server                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚   Parse    â”‚  â”‚   Forecast   â”‚  â”‚  Format        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  Prompt    â”‚â”€â–¶â”‚  Generation  â”‚â”€â–¶â”‚  Response      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                        â”‚                                 â”‚  â”‚
â”‚  â”‚                        â–¼                                 â”‚  â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚  â”‚
â”‚  â”‚              â”‚  Trend Analysis  â”‚                        â”‚  â”‚
â”‚  â”‚              â”‚  Linear Regress  â”‚                        â”‚  â”‚
â”‚  â”‚              â”‚  Uncertainty Est â”‚                        â”‚  â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Upload    â”‚
â”‚  CSV File   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Parse & Validate                â”‚
â”‚  â€¢ Check format                         â”‚
â”‚  â€¢ Parse timestamps                     â”‚
â”‚  â€¢ Extract values                       â”‚
â”‚  â€¢ Detect sensors                       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frequency Detection             â”‚
â”‚  â€¢ Calculate intervals                  â”‚
â”‚  â€¢ Find median frequency                â”‚
â”‚  â€¢ Measure irregularity                 â”‚
â”‚  â€¢ Suggest resample frequency           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Statistical Analysis               â”‚
â”‚  â€¢ Min, Max, Mean, Std Dev              â”‚
â”‚  â€¢ Missing value percentage             â”‚
â”‚  â€¢ Outlier detection                    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                      â”‚
       â–¼                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Display   â”‚                    â”‚  User Configs   â”‚
â”‚   Profile   â”‚                    â”‚  Settings       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   Data Processing        â”‚
                              â”‚  â€¢ Resample to uniform   â”‚
                              â”‚  â€¢ Fill missing values   â”‚
                              â”‚  â€¢ Handle outliers       â”‚
                              â”‚  â€¢ Extract context       â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   Build Prompt           â”‚
                              â”‚  â€¢ Add statistics        â”‚
                              â”‚  â€¢ Add last N values     â”‚
                              â”‚  â€¢ Add horizon request   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  Call Lag-Llama API      â”‚
                              â”‚  â€¢ Send HTTP request     â”‚
                              â”‚  â€¢ Receive JSON response â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  Validate Response       â”‚
                              â”‚  â€¢ Check schema          â”‚
                              â”‚  â€¢ Verify lengths        â”‚
                              â”‚  â€¢ Check quantile order  â”‚
                              â”‚  â€¢ Retry if invalid      â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  Generate Timestamps     â”‚
                              â”‚  â€¢ Calculate future timesâ”‚
                              â”‚  â€¢ Align with frequency  â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  Format Results          â”‚
                              â”‚  â€¢ Combine history+forecastâ”‚
                              â”‚  â€¢ Add metadata          â”‚
                              â”‚  â€¢ Add quality flags     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â–¼                                 â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Display Chart   â”‚            â”‚  Enable Downloadsâ”‚
            â”‚  â€¢ History line  â”‚            â”‚  â€¢ Forecast CSV  â”‚
            â”‚  â€¢ Forecast line â”‚            â”‚  â€¢ Config JSON   â”‚
            â”‚  â€¢ Uncertainty   â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Forecast Visualization Explained

```
Temperature Forecast Example
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

    30Â°C â”¤                                    â•± â”€ â”€ P90 (Optimistic)
         â”‚                                 â•± â•±
    29Â°C â”¤                              â•± â•±
         â”‚                           â•± â•±  â”Š
    28Â°C â”¤                        â•± â•±     â”Š
         â”‚                     â•± â•±        â”Š Uncertainty
    27Â°C â”¤                  â•± â•±           â”Š Band (Shaded)
         â”‚               â•± â•±              â”Š
    26Â°C â”¤     â—â”€â”€â—â”€â”€â— â•± â•±  â— â”€ â”€ â”€ â”€ P50 (Most Likely)
         â”‚    â—      â•± â•±
    25Â°C â”¤   â—    â•± â•±                     â”Š
         â”‚  â—  â•± â•±                        â”Š
    24Â°C â”¤ â— â•± â•± â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ P10 (Pessimistic)
         â”‚  â•±
    23Â°C â”¤ â•±
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
           â–²                             â–²
        History                      Forecast
      (Green Line)                 (Blue Dashed)

     10:00  10:10  10:20  10:30  10:40  10:50  11:00
```

**Reading the Chart**:

- **Green solid line**: Historical observed values
- **Blue dashed line**: Predicted values (P50 median)
- **Blue shaded area**: Uncertainty range (P10 to P90)
- **Wider band** = More uncertainty
- **Narrower band** = Higher confidence

---

## Percentile Interpretation

```
Probability Distribution at Future Time T
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Frequency
    â–²
    â”‚     â•±â€¾â•²
    â”‚    â•±   â•²
    â”‚   â•±     â•²
    â”‚  â•±       â•²___
    â”‚ â•±___         â€¾â€¾â€¾â•²____
    â””â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Temperature
       P10 P50 P90

P10 = 24.5Â°C â”€â”€â”
               â”‚ 90% of probability mass
P90 = 27.2Â°C â”€â”€â”˜ is between P10 and P90

P50 = 25.8Â°C â”€â”€â–¶ Most likely value (median)
```

**Interpretation**:

- **10% chance** actual value < P10 (24.5Â°C)
- **50% chance** actual value < P50 (25.8Â°C)
- **90% chance** actual value < P90 (27.2Â°C)

**Decision Making**:

```
Scenario: AC control

If P50 > 26Â°C:          â†’ Turn on AC (most likely hot)
If P90 > 28Â°C:          â†’ Pre-cool building (might get very hot)
If P10 > 27Â°C:          â†’ Definitely will be hot (high confidence)
```

---

## Resampling Visualization

```
BEFORE Resampling (Irregular intervals)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Value
  30 â”¤       â—
  25 â”¤   â—       â—     â—
  20 â”¤ â—                   â—
     â””â”€â”€â”¼â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â–¶ Time
      0s 5s  12s 18s 30s   50s

Intervals: 5s, 7s, 6s, 12s, 20s â† IRREGULAR


AFTER Resampling (Uniform 10s intervals)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Value
  30 â”¤         â—
  25 â”¤   â—   â—   â—   â—
  20 â”¤ â—               â—
     â””â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”€â–¶ Time
       0s 10s 20s 30s 40s 50s

Intervals: 10s, 10s, 10s, 10s, 10s â† UNIFORM
```

**Resampling Process**:

1. Create uniform time grid (every 10s)
2. Assign data points to nearest bucket
3. Average values in same bucket
4. Interpolate empty buckets (if using LINEAR)

---

## Missing Data Handling Strategies

### LINEAR Interpolation

```
Original Data (with gap):
  â—         gap         â—
  â”‚                     â”‚
  5                     15

Time: 0s              30s

LINEAR fills gap:
  â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â—â”€â”€â—
  5     7.5   10   12.5 15

Time: 0s  7.5s  15s  22.5s  30s

Formula: V = V1 + (V2-V1) Ã— (T-T1)/(T2-T1)
```

### FFILL (Forward Fill)

```
Original Data (with gap):
  â—         gap         â—
  â”‚                     â”‚
  5                     15

Time: 0s              30s

FFILL repeats last value:
  â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
  5     5     5     5   15

Time: 0s  7.5s  15s  22.5s  30s
```

### DROP

```
Original Data (with gap):
  â—         gap         â—
  â”‚                     â”‚
  5                     15

Time: 0s              30s

DROP removes gap points:
  â—                     â—
  5                     15

Time: 0s              30s

(Fewer points, larger interval)
```

---

## Outlier Handling (Winsorization)

```
BEFORE Winsorization
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                            â— â† Outlier (100)
  50 â”¤  â—   â—   â—   â—
  40 â”¤      â—   â—
  30 â”¤  â—           â—
  20 â”¤                  â—
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

P1 = 25, P99 = 55 â† Computed thresholds


AFTER Winsorization
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  60 â”¤                      â— â† Capped at P99 (55)
  50 â”¤  â—   â—   â—   â—
  40 â”¤      â—   â—
  30 â”¤  â—           â—
  20 â”¤                  â—
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

Values outside [P1, P99] are capped
```

**Effect**:
- Extreme values â†’ Capped at percentile thresholds
- Shape of distribution â†’ Preserved
- Impact â†’ Reduces influence of anomalies

---

## Lag-Llama Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  HISTORICAL CONTEXT                     â”‚
â”‚  [Vâ‚, Vâ‚‚, Vâ‚ƒ, ..., Vâ‚™â‚‹â‚‚, Vâ‚™â‚‹â‚, Vâ‚™]                    â”‚
â”‚  Last 32-1024 observed values                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              LAG FEATURE EXTRACTION                     â”‚
â”‚  Creates features from values at specific lags         â”‚
â”‚                                                         â”‚
â”‚  Lag-1:  [Vâ‚™, Vâ‚™â‚‹â‚, Vâ‚™â‚‹â‚‚, ...]        Recent          â”‚
â”‚  Lag-7:  [Vâ‚™â‚‹â‚†, Vâ‚™â‚‹â‚â‚ƒ, ...]           Weekly pattern   â”‚
â”‚  Lag-30: [Vâ‚™â‚‹â‚‚â‚‰, Vâ‚™â‚‹â‚…â‚‰, ...]          Monthly pattern  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            TRANSFORMER ENCODER                          â”‚
â”‚  Multi-head self-attention mechanism                   â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Attentionâ”‚  â”‚ Attentionâ”‚  â”‚ Attentionâ”‚              â”‚
â”‚  â”‚  Head 1  â”‚  â”‚  Head 2  â”‚  â”‚  Head N  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                  â–¼                                       â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚        â”‚  Feed Forward    â”‚                             â”‚
â”‚        â”‚     Network      â”‚                             â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                 â”‚                                        â”‚
â”‚         [Encoded Context]                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AUTOREGRESSIVE DECODER                     â”‚
â”‚  Generates forecast step-by-step                       â”‚
â”‚                                                         â”‚
â”‚  Step 1: Vâ‚™â‚Šâ‚ = f(encoded_context)                    â”‚
â”‚  Step 2: Vâ‚™â‚Šâ‚‚ = f(encoded_context, Vâ‚™â‚Šâ‚)             â”‚
â”‚  Step 3: Vâ‚™â‚Šâ‚ƒ = f(encoded_context, Vâ‚™â‚Šâ‚, Vâ‚™â‚Šâ‚‚)       â”‚
â”‚  ...                                                    â”‚
â”‚  Step H: Vâ‚™â‚Šâ‚• = f(encoded_context, Vâ‚™â‚Šâ‚...Vâ‚™â‚Šâ‚•â‚‹â‚)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           DISTRIBUTION HEAD                             â”‚
â”‚  Outputs probability distribution for each step        â”‚
â”‚                                                         â”‚
â”‚  For each forecast step:                               â”‚
â”‚    P(Vâ‚™â‚Šáµ¢ | context) â†’ Distribution parameters        â”‚
â”‚                                                         â”‚
â”‚  Extract quantiles:                                    â”‚
â”‚    P10 â† 10th percentile                              â”‚
â”‚    P50 â† 50th percentile (median)                     â”‚
â”‚    P90 â† 90th percentile                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                FORECAST OUTPUT                          â”‚
â”‚  [Vâ‚™â‚Šâ‚, Vâ‚™â‚Šâ‚‚, Vâ‚™â‚Šâ‚ƒ, ..., Vâ‚™â‚Šâ‚•]                       â”‚
â”‚  With uncertainty bands [P10, P50, P90]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Zero-Shot vs Fine-Tuned Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  TRADITIONAL APPROACH                      â”‚
â”‚                    (Fine-Tuned Model)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Collect Data (Days/Weeks)
   â”‚
   â–¼
Step 2: Prepare Training Set (Hours)
   â”‚
   â–¼
Step 3: Train Model (Hours/Days)
   â”‚  â€¢ Requires ML expertise
   â”‚  â€¢ Needs compute resources
   â”‚  â€¢ Hyperparameter tuning
   â–¼
Step 4: Validate Model (Hours)
   â”‚
   â–¼
Step 5: Deploy Model (Hours)
   â”‚
   â–¼
Step 6: Generate Forecast âœ“
   â”‚
   Total Time: DAYS TO WEEKS â±ï¸


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ZERO-SHOT APPROACH                       â”‚
â”‚                     (Lag-Llama)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: Collect Data (Minutes)
   â”‚
   â–¼
Step 2: Generate Forecast âœ“
   â”‚
   Total Time: MINUTES âš¡

Pre-trained model applies learned patterns immediately!
```

**Accuracy Comparison**:

```
Accuracy
    100% â”¤
         â”‚                              â•±â”€ Fine-tuned (with lots of data)
     90% â”¤                         â•±â”€â•±
         â”‚                    â•±â”€â•±
     80% â”¤               â•±â”€â•±
         â”‚          â•±â”€â•±         â— Zero-shot
     70% â”¤     â•±â”€â•±
         â”‚ â•±â”€â•±
     60% â”¤
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
           Low        Medium        High
              Amount of Training Data

Zero-shot: Good baseline immediately
Fine-tuned: Better with enough domain data
```

---

## Quality Flags Explained

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  LOW_DATA                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Points
   100 â”¤                        Threshold
    50 â”¤ â— You have < 50 points â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    25 â”¤
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

âš ï¸  Warning: Limited historical context
ğŸ’¡  Action: Collect more data for better forecasts


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                HIGH_MISSING                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Data
   100%â”¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                        Complete
    80%â”¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
    60%â”¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
    40%â”¤ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â— Your data
    20%â”¤ â–ˆâ–ˆâ–ˆâ–ˆ                 â”€â”€â”€â”€â”€â”€â”€â”€â”€  20% Threshold
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

âš ï¸  Warning: >20% missing values
ğŸ’¡  Action: Improve data collection reliability


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             IRREGULAR_SAMPLING                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Regular:   â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—  (Equal intervals)

Irregular: â—â”€â—â”€â”€â”€â”€â”€â”€â—â”€â—â”€â”€â”€â”€â—  (Varying intervals)
                            â–²
                       Your data

âš ï¸  Warning: Non-uniform time intervals
ğŸ’¡  Action: Use AUTO resample frequency


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            OUTLIERS_PRESENT                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Value
    100â”¤                â—  â† Outlier
     50â”¤  â—  â—  â—  â—
     25â”¤     â—  â—
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

âš ï¸  Warning: Extreme values detected
ğŸ’¡  Action: Enable Winsorization OR investigate causes


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LONG_HORIZON_UNCERTAIN                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Confidence
    100%â”¤â•²
        â”‚ â•²
     75%â”¤  â•²___
        â”‚      â•²___
     50%â”¤          â•²___
        â”‚              â•²___ Decreases with horizon
     25%â”¤                  â•²___
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
          0     250    500   â† Your horizon

âš ï¸  Warning: Forecast horizon >500 steps
ğŸ’¡  Action: Interpret far-future values cautiously


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           REGIME_SHIFT_DETECTED                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Value
    100â”¤                     â•±â”€â”€â”€â”€ New pattern
        â”‚                   â•±
     50â”¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
        â”‚                  â–²
        â”‚              Shift point
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

âš ï¸  Warning: Pattern change detected
ğŸ’¡  Action: Recent data may not predict well
```

---

## Horizon Modes Comparison

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  STEPS MODE                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Input: "Forecast 50 steps"

Current time: 10:00:00
Frequency: 10 seconds

Forecast:
  Step 1 â†’ 10:00:10
  Step 2 â†’ 10:00:20
  Step 3 â†’ 10:00:30
  ...
  Step 50 â†’ 10:08:20  (50 Ã— 10s = 500s = 8m 20s)

âœ… Use when: You care about number of future points
ğŸ“Š Example: "Predict next 100 measurements"


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   TIME MODE                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Input: "Forecast 1 hour"

Current time: 10:00:00
Frequency: 10 seconds

Calculation:
  1 hour = 3600 seconds
  Steps = 3600 / 10 = 360 steps

Forecast:
  Step 1 â†’ 10:00:10
  Step 2 â†’ 10:00:20
  ...
  Step 360 â†’ 11:00:00  (Exactly 1 hour)

âœ… Use when: You care about future time period
ğŸ“Š Example: "Predict next 24 hours"
```

---

## Application Use Case Examples

### Industrial Predictive Maintenance

```
Vibration Sensor on Motor
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Vib
  5.0â”¤                               â•±â”€â”€â”€ P90 exceeds threshold!
     â”‚                          â•±â”€â•±
  4.0â”¤                     â•±â”€â•±          ğŸ”´ Alert threshold (4.5)
     â”‚                â•±â”€â•±      â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€
  3.0â”¤           â•±â”€â•±
     â”‚      â•±â”€â•±
  2.0â”¤ â•±â”€â•±
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
     Now         +30min

Action: Schedule maintenance BEFORE failure
```

### Energy Load Forecasting

```
Building Power Consumption
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  kW
  300â”¤        â•±â•²                 â•±â•²
     â”‚       â•±  â•²               â•±  â•²â”€â”€â”€â”€â”€ Tomorrow (forecast)
  200â”¤  â•±â•²  â•±    â•²â”€â”€â”€â”€â”€    â•±â”€â•±
     â”‚ â•±  â•²â•±      â•²    â•²  â•±
  100â”¤â•±           â•²____â•²â•±
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
      6am  12pm  6pm  12am  6am  12pm
      Today â”€â”€â”€â”€â”€â”€â–¶ Tomorrow

Action: Pre-cool building during low-rate hours
```

### Smart Agriculture

```
Soil Moisture Forecast
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  %
  80â”¤ â—â”€â—â”€â—                              Optimal range
  60â”¤      â•²                         â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€
  40â”¤       â•²___
  20â”¤           â•²___ P50 drops below threshold!
  10â”¤               â•²___          ğŸ”´ Critical (15%)
   0â”¤                   â—         â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
     Now         +6 hours

Action: Irrigate in 4 hours
```

---

## Performance Metrics

```
Processing Time Breakdown
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Total Request: ~3-7 seconds

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CSV Upload & Parse        â”‚ 0.1s  â–Œ    â”‚
â”‚ Frequency Detection       â”‚ 0.1s  â–Œ    â”‚
â”‚ Statistics Calculation    â”‚ 0.1s  â–Œ    â”‚
â”‚ Data Resampling          â”‚ 0.3s  â–ˆâ–ˆ   â”‚
â”‚ Missing Data Handling    â”‚ 0.2s  â–ˆ    â”‚
â”‚ Outlier Processing       â”‚ 0.1s  â–Œ    â”‚
â”‚ Prompt Building          â”‚ 0.1s  â–Œ    â”‚
â”‚ Lag-Llama Inference      â”‚ 2.0s  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â”‚ Response Validation      â”‚ 0.1s  â–Œ    â”‚
â”‚ Timestamp Generation     â”‚ 0.1s  â–Œ    â”‚
â”‚ Format & Return          â”‚ 0.1s  â–Œ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²
    Largest component
```

---

## Summary

This visual guide complements the complete technical documentation by providing:

âœ… **Architecture diagrams** - System structure
âœ… **Flow diagrams** - Data processing steps
âœ… **Chart examples** - Output interpretation
âœ… **Algorithm visualizations** - How processing works
âœ… **Use case diagrams** - Real-world applications
âœ… **Comparison charts** - Feature trade-offs

Use together with **COMPLETE_GUIDE.md** for full understanding!

---

**Version**: 1.0
**Last Updated**: 2024-02-11
